<div class="container" xmlns:th="http://www.thymeleaf.org">
    <script src='assets/lib/jquery.md5.min.js' th:src="@{/assets/lib/jquery.md5.min.js}" type='text/javascript'></script>
    <script type='text/javascript' th:inline="javascript">
        /*<![CDATA[*/
        $(document).ready(function() {
            $('#signUpForm').submit(function(e) {
                var pass = $('#passInput').val();
                var confirmPass = $('#confirmPassInput').val();
                if (pass != confirmPass) {
                    var error = [[#{signup.pass.is.not.as.passConfirm}]];
                    $('#confirmPassParagraphForError').text(error);
                    e.preventDefault();
                }else {
                    var token = encrypt_pass(pass);
                    $('#tokenInput').val(token);
                }
            });
        });
        /*]]>*/
    </script>
    <form id="signUpForm" name="signUpForm" class="form-signup" role="form" action="#" th:object="${userRegDetailsDto}" th:action="@{signup}" method="post" accept-charset="UTF-8">
        <input id="emailInput" type="email" class="form-control"  placeholder="Email" th:placeholder="#{signup.content.signUpForm.email.input.placeholder}"  th:field="*{email}" required="true"/>

        <p th:if="${#fields.hasErrors('email')}" th:errors="*{email}">
            Wrong email
        </p>

        <input id="tokenInput" type="hidden" th:field="*{token}" value=""/>

        <input id="passInput" type="password" class="form-control" placeholder="Password" th:placeholder="#{signup.content.signUpForm.password.input.placeholder}" required="true" pattern="[A-Za-z]{6,12}"/>

        <p th:if="${#fields.hasErrors('token')}" th:errors="*{token}">
            Wrong token format
        </p>

        <input id="confirmPassInput" type="password" name="confirmPass"  class="form-control" placeholder="Password Confirmation:" th:placeholder="#{signup.content.signUpForm.password.confirmation.input.placeholder}" required="true"/>

        <p id="confirmPassParagraphForError"></p>

        <input id="signUpButton" type="submit" name="submit" class="btn btn-lg btn-primary btn-block" th:value="#{signup.content.signUpForm.submit}" value="Sign Up"/>
        <a th:text="#{signup.content.facebook.signup.link.text}" th:href="@{auth/facebook(__${T(web.security.social.ConnectionSignUpImpl).SIGN_UP}__=true,scope=email)}">Facebook Sign Up</a>
        <a th:text="#{signup.content.google.signup.link.text}" th:href="@{auth/google(__${T(web.security.social.ConnectionSignUpImpl).SIGN_UP}__=true,scope=email)}">Google+ Sign Up</a>
    </form>
</div>