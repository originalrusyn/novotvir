<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xmlns:context="http://www.springframework.org/schema/context"
       xmlns:p="http://www.springframework.org/schema/p"
       xmlns:c="http://www.springframework.org/schema/c"
       xmlns:util="http://www.springframework.org/schema/util"
       xsi:schemaLocation="http://www.springframework.org/schema/beans
       http://www.springframework.org/schema/beans/spring-beans.xsd
       http://www.springframework.org/schema/context
       http://www.springframework.org/schema/context/spring-context.xsd
       http://www.springframework.org/schema/util
       http://www.springframework.org/schema/util/spring-util.xsd">

    <bean id="sendPushJobDetail"
          class="org.springframework.scheduling.quartz.MethodInvokingJobDetailFactoryBean"
          p:targetObject-ref="taskJob"
          p:targetMethod="execute"
          p:concurrent="${send.push.job.concurrent}"
    />

    <bean id="sendPushJobTrigger"
          class="org.springframework.scheduling.quartz.CronTriggerFactoryBean"
          p:cronExpression="${send.push.job.trigger.cron.expression}"
          p:jobDetail-ref="sendPushJobDetail"
    />

    <util:list id="triggers" value-type="org.quartz.Trigger">
        <ref bean="sendPushJobTrigger"/>
    </util:list>

    <bean id = "scheduler"
          class="org.springframework.scheduling.quartz.SchedulerFactoryBean"
          p:autoStartup="${scheduler.autoStartup}"
          p:triggers-ref="triggers"
    />

    <util:list id="processors" value-type="web.job.common.processor.WorkItemsIdsExtractor">
        <ref bean="workItemsIdsExtractor"/>
    </util:list>

</beans>